<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Combined SVG Demo</title>
  <style>
    body { font-family: sans-serif; padding: 2rem; background: #f8f9fa; }
    h2 { margin-bottom: 1rem; }
    .container { max-width: 800px; margin: 0 auto; background: #fff; border-radius: 8px; box-shadow: 0 2px 8px rgba(0,0,0,0.07); padding: 2rem; }
    .svg-demo-section { margin-bottom: 2rem; }
    .svg-label { font-weight: bold; margin-bottom: 0.5rem; display: block; }
    .svg-preview { display: flex; align-items: center; justify-content: center; background: #e9ecef; border-radius: 6px; margin-bottom: 1rem; }
    .svg-preview svg { display: block; width: 100%; height: auto; aspect-ratio: auto; }
    .file-input { margin-bottom: 2rem; }
  </style>
</head>
<body>
  <div class="container">
    <h2>Combined SVG Demo</h2>
    <div class="file-input">
      <label for="svgFile">Select your <code>combined.svg</code> file: </label>
      <input type="file" id="svgFile" accept=".svg" />
    </div>
    <div class="svg-demo-section">
      <span class="svg-label">Small (100px wide):</span>
      <div class="svg-preview" id="svgSmall" style="width: 100px; height: auto;"></div>
    </div>
    <div class="svg-demo-section">
      <span class="svg-label">Medium (300px wide):</span>
      <div class="svg-preview" id="svgMedium" style="width: 300px; height: auto;"></div>
    </div>
    <div class="svg-demo-section">  
      <span class="svg-label">Large (600px wide):</span>
      <div class="svg-preview" id="svgLarge" style="width: 600px; height: auto;"></div>
    </div>
  </div>
  <script>
    const svgFileInput = document.getElementById('svgFile');
    const svgSmall = document.getElementById('svgSmall');
    const svgMedium = document.getElementById('svgMedium');
    const svgLarge = document.getElementById('svgLarge');

    svgFileInput.addEventListener('change', function(event) {
      const file = event.target.files[0];
      if (!file) return;
      const reader = new FileReader();
      reader.onload = function(e) {
        const svgContent = e.target.result;
        // Remove previous SVGs
        svgSmall.innerHTML = '';
        svgMedium.innerHTML = '';
        svgLarge.innerHTML = '';
        // Define a color map for demo (id: color)
        const colorMap = {
          // Example: 'Outline_1': '#1976D2',
          // Add your part IDs and desired colors here
          'Button_11_': '#FF6B6B',
        };
        // Insert SVG at three sizes
        [
          { container: svgSmall, width: 100 },
          { container: svgMedium, width: 300 },
          { container: svgLarge, width: 600 }
        ].forEach(({ container, width }) => {
          // Parse SVG and set width/height
          const tempDiv = document.createElement('div');
          tempDiv.innerHTML = svgContent;
          const svg = tempDiv.querySelector('svg');
          if (svg) {
            // Clone and set width/height
            const svgClone = svg.cloneNode(true);
            svgClone.setAttribute('width', width);
            svgClone.removeAttribute('height'); // Remove any height attribute
            svgClone.style.width = width + 'px';
            svgClone.style.height = 'auto';
            // Style all parts black by default
            svgClone.querySelectorAll('g').forEach(g => {
              g.querySelectorAll('path,rect,circle,ellipse,line,polyline,polygon').forEach(el => {
                el.setAttribute('stroke', 'black');
                el.setAttribute('fill', 'black');
              });
            });
            // Then apply color map overrides by ID
            Object.entries(colorMap).forEach(([id, color]) => {
              const g = svgClone.querySelector(`g#${id}`);
              if (g) {
                g.querySelectorAll('path,rect,circle,ellipse,line,polyline,polygon').forEach(el => {
                  el.setAttribute('stroke', color);
                  el.setAttribute('fill', color);
                });
              }
            });
            container.appendChild(svgClone);
          } else {
            container.innerHTML = '<span style="color:#dc3545">Invalid SVG file.</span>';
          }
        });
      };
      reader.readAsText(file);
    });
  </script>
</body>
</html> 